DROP_01:
0000                          BEGIN
0003                          ShowMessage(03FC) = Other pits in the Labyrinth provide access to hidden areas...
0010                          ShowMessage(043A) = This pit, however, sends you to the gates of Death.
001D                          ax = GetMaxHits()
0024                          DoDamage(ax)
002E                          RETURN

XOVER_02:
0000                          BEGIN
0003                          ax = GetNextTile()
000A 3D 47 00                 cmp ax, 0x47
000D 75 61                    jnz 0x70
000F                          ax = CheckState(01, 01, any)
0022 74 1F                    jz 0x43
0024                          SetTileFloor(47, 00)
0032 59                       pop cx
0033 59                       pop cx
0034                          ShowMessage(046E) = A magical platform forms a bridge across the abyss.
0041 EB 2B                    jmp 0x6e
0043                          ShowMessage(04A2) = You fall into the abyss and die.
0050                          ShowMessage(04C3) = With help, you might have been able to cross here.
005D                          ax = GetMaxHits()
0064                          DoDamage(ax)
006E EB 38                    jmp 0xa8
0070                          ax = CheckState(01, 01, any)
0083 74 12                    jz 0x97
0085                          SetTileFloor(47, 00)
0093 59                       pop cx
0094 59                       pop cx
0095 EB 11                    jmp 0xa8
0097                          SetTileFloor(47, 01)
00A8                          RETURN

XOVERON_03:
0000                          BEGIN
0003                          SetState(01, 01, 01)
0018                          SetTileFloor(47, 00)
0026 59                       pop cx
0027 59                       pop cx
0028                          ShowMessage(04F6) = Something strange happens!
0035                          ShowMessage(0511) = When you step onto the stone, a magical platform appears nearby.
0042                          RETURN

BAZAAR_04:
0000                          BEGIN
0003                          ShowMessage(0552) = You do not suffer the death found in other pits in the Labyrinth.  Instead you are rewarded with a trip to CASTLEGATE BAZAAR.
0010                          GoMap(03, 12, 01, 36)
002B                          RETURN

HEAVENS_05:
0000                          BEGIN
0003                          ShowMessage(05D0) = The Dark Dwarf Voranti tricked the Lords of Harmony many moons ago.
0010                          ShowMessage(0614) = He stole the secrets of the Winds from the Lords and has used them for his own purposes every since.
001D                          ShowMessage(0679) = The Lords' Harmonic Shrine has now become the raging passageway known as HEAVEN'S FURY.
002A                          GoMap(02, A3, 01, 35)
0045                          RETURN

EXODUS_06:
0000                          BEGIN
0003                          ShowMessage(06D1) = The survivors of the cataclysm named this place EXODUS.
0010                          ShowMessage(0709) = It is here they escaped the horrors of Arnakkian's Castle and began their new subterranean life.
001D                          GoMap(02, 75, 01, 35)
0038                          RETURN

WINDHOLO_07:
0000                          BEGIN
0003                          ShowMessage(076A) = No adventurer dares camp in WIND HOLLOW.  At night the howling wind makes one deaf to the dangers.
0010                          GoMap(03, 8A, 01, 35)
002B                          RETURN

TEMPEST_08:
0000                          BEGIN
0003                          ShowMessage(07CD) = TEMPEST dares all to explore the magic rooms along her narrow corridor.
0010                          GoMap(01, 9B, 01, 35)
002B                          RETURN

WINDHOLO_09:
0000                          BEGIN
0003                          ShowMessage(0815) = The barren rocks are swept clean by the violent winds that race through WIND HOLLOW.
0010                          GoMap(00, 7D, 01, 35)
002A                          RETURN

BACKALLY_0A:
0000                          BEGIN
0003                          ShowMessage(086A) = 'Beware!  Those who enter the Labyrinth BACK ALLEY must guard against all!'
0010                          GoMap(00, 4D, 01, 35)
002A                          RETURN

HEAVENS_0B:
0000                          BEGIN
0003                          ShowMessage(08B6) = Enter HEAVEN'S FURY if you must.  Here is where Voranti cursed the winds.
0010                          GoMap(02, F3, 01, 35)
002B                          RETURN

LABYATIC_0C:
0000                          BEGIN
0003                          ShowMessage(0900) = The gates of LABYRINTH ATTIC are a welcome sight.
0010                          GoMap(02, C3, 01, 33)
002B                          RETURN

WINDHOLO_0D:
0000                          BEGIN
0003                          ShowMessage(0932) = The door leads to WYN SANCTUARY.
0010                          GoMap(00, 6D, 01, 33)
002A                          RETURN

THVTRESR_0E:
0000                          BEGIN
0003                          ShowMessage(0953) = The gateway opens, revealing the secret chambers of the Labyrinth Thieves.
0010                          GoMap(02, 6E, 01, 33)
002B                          RETURN

LAVA_0F:
0000                          BEGIN
0003                          ShowMessage(099E) = You stumble into the lava pools.  You die.
0010                          ax = GetMaxHits()
0017                          DoDamage(ax)
0021                          RETURN

DRTOBALY_10:
0000                          BEGIN
0003                          ShowMessage(09C9) = This door locks out all except those who have the alley key.
0010                          ax = UsedItem(E0, E0)
0023 74 41                    jz 0x66
0025                          Push(01)
0029                          Push(03)
002D                          ax = GetNextTile()
0034 50                       push ax
0035                          Move(stk[0], stk[1], stk[2])
003F                          Push(03)
0043                          ax = GetNextTile()
004A 50                       push ax
004B                          Push(01)
004F                          SetUnblocked()
0059                          ShowMessage(0A06) = Your key unlocks the door.
0066                          RETURN

LABYATIC_14:
0000                          BEGIN
0003                          ShowMessage(0A21) = You return to LABYRINTH ATTIC through a one-way tunnel.
0010                          GoMap(02, 59, 01, 33)
002B                          RETURN

WINDHOLO_15:
0000                          BEGIN
0003                          ShowMessage(0A59) = The door to WIND HOLLOW bursts open with terrible force, throwing all adventurers against the rocks...
0010                          ShowMessage(0AC0) = ...and inflicting heavy damage.
001D                          DoDamage(00C8)
002A                          ax = GetCurrentHits()
0031 0B C0                    or ax, ax
0033 77 0D                    ja 0x42
0035                          ShowMessage(0AE0) = You have died.
0042                          GoMap(03, BC, 01, 35)
005D                          RETURN

MAGICRMS_16:
0000                          BEGIN
0003                          ShowMessage(0AEF) = Runes can be the most powerful of weapons in the hands of an adept Wizard.
0010                          ShowMessage(0B3A) = Here, the runes also protect the great mage's magical possessions against the unwanted.
001D                          GoMap(02, 30, 02, 34)
0038                          RETURN

ZEPHENCA_18:
0000                          BEGIN
0003                          AddEncounter(16, 01)
0015                          AddEncounter(16, 02)
0027                          AddEncounter(19, 05)
0039                          AddEncounter(19, 06)
004B                          ax = HasItem(B4)
0059 74 21                    jz 0x7c
005B                          AddTreasure(03E8, 00, 00, 00, 00, D1)
007A EB 21                    jmp 0x9d
007C                          AddTreasure(07D0, 00, 00, C8, B4, D0)
009D                          RETURN

ZEPHENCB_19:
0000                          BEGIN
0003                          ax = CheckState2(02, 79)
0016 74 63                    jz 0x7b
0018                          ax = HasItem(09)
0026 75 10                    jnz 0x38
0028                          ax = HasItem(F0)
0036 74 22                    jz 0x5a
0038                          AddTreasure(1388, 00, 00, 00, B3, D0)
0058 EB 1F                    jmp 0x79
005A                          AddTreasure(2710, 00, 00, 00, 00, F0)
0079 EB 6F                    jmp 0xea
007B                          ax = HasItem(E6)
0089 74 5F                    jz 0xea
008B                          RemoveItem(E6)
0097                          SetState(02, 79, 01)
00AC                          AddTreasure(2710, 00, 00, 00, 00, F0)
00CB                          AddExperience(0003D090)
00DD                          ShowMessage(0B92) = The Zephyr Wind whispers, 'I have taken the Harvest Horn, and I give you something to help defeat the Wind Elemental'.
00EA                          AddEncounter(10, 01)
00FC                          AddEncounter(10, 02)
010E                          AddEncounter(0F, 05)
0120                          AddEncounter(0F, 06)
0132                          RETURN

TXTZEPHR_1B:
0000                          BEGIN
0003                          ShowMessage(0C09) = The Zephyr Wind whistles 'No harm was intended, but I am sworn to serve the Wind Elemental.  Return the Harvest Horn to my Wyverns to release my bonds.'
0010                          RETURN

XOVEROFF_1C:
0000                          BEGIN
0003                          SetState(01, 01, 00)
0017                          SetTileFloor(47, 01)
0028                          ShowMessage(0CA2) = A magical platform nearby seems to disappear.
0035                          RETURN

ZEPHBLOW_1D:
0000                          BEGIN
0003                          ShowMessage(0CD0) = The Zephyr Wind gusts in fury, causing damage!
0010                          ax = GetMaxHits()
0017 BB 03 00                 mov bx, 0x3
001A 99                       cwd
001B F7 FB                    idiv bx
001D                          DoDamage(ax)
0027                          ax = GetCurrentHits()
002E 0B C0                    or ax, ax
0030 77 0D                    ja 0x3f
0032                          ShowMessage(0CFF) = You have died.
003F                          RETURN

DRLPENCA_1E:
0000                          BEGIN
0003                          ShowMessage(0D0E) = Wafts of reddish smoke eminate from the rooms ahead.
0010                          AddEncounter(19, 01)
0022                          AddEncounter(19, 02)
0034                          AddEncounter(0F, 05)
0046                          AddEncounter(0F, 06)
0058                          RETURN

DRLPENCB_1F:
0000                          BEGIN
0003                          ShowMessage(0D43) = An acrid odor fills these chambers.
0010                          AddEncounter(0F, 01)
0022                          AddEncounter(0F, 02)
0034                          AddEncounter(1B, 05)
0046                          AddEncounter(1B, 06)
0058                          RETURN

DRLPENCC_20:
0000                          BEGIN
0003                          ShowMessage(0D67) = The fiery eyes of Ancient Dragons blaze through the thick clouds that fill the chamber.
0010                          AddEncounter(1C, 01)
0022                          AddEncounter(1C, 02)
0034                          AddEncounter(1C, 03)
0046                          AddEncounter(1C, 04)
0058                          AddEncounter(1A, 05)
006A                          AddEncounter(1A, 06)
007C                          ax = HasItem(DF)
008A 74 21                    jz 0xad
008C                          AddTreasure(03E8, 00, 00, 00, 00, D1)
00AB EB 21                    jmp 0xce
00AD                          AddTreasure(4E20, 00, 00, DF, 46, 6E)
00CE                          RETURN

ZZYZENCA_21:
0000                          BEGIN
0003                          AddEncounter(1E, 01)
0015                          AddEncounter(1E, 02)
0027                          AddEncounter(1E, 03)
0039                          AddEncounter(1E, 04)
004B                          AddEncounter(1D, 05)
005D                          AddEncounter(1D, 06)
006F                          AddTreasure(1388, 00, 00, 17, 08, 6C)
0090                          RETURN

SDRZZYZA_23:
0000                          BEGIN
0003                          ax = UsedSkill(0D, 0B) // returns 0 if did not use, compares to 2nd op if did use
0012 73 25                    jae 0x39
0014                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
0020 0B C0                    or ax, ax
0022 75 15                    jnz 0x39
0024                          ax = UsedItem(BE, BE)
0037 74 49                    jz 0x82
0039                          ShowMessage(0DBF) = You detect a secret door in the wall.
0046                          Push(01)
004A                          ax = SetExitability(ax) // ax is usually 0 following equality check
0051 50                       push ax
0052                          ax = GetNextTile()
0059 50                       push ax
005A                          Move(stk[0], stk[1], stk[2])
0064                          ax = SetExitability(ax) // ax is usually 0 following equality check
006B 50                       push ax
006C                          ax = GetNextTile()
0073 50                       push ax
0074                          Push(01)
0078                          SetUnblocked()
0082                          RETURN

ZZYZENCC_24:
0000                          BEGIN
0003                          AddEncounter(10, 01)
0015                          AddEncounter(10, 02)
0027                          AddEncounter(1D, 03)
0039                          AddEncounter(1D, 04)
004B                          RETURN

MGOVENCA_25:
0000                          BEGIN
0003                          ShowMessage(0DE5) = A stash of wizard items is being raided.
0010                          AddEncounter(1F, 01)
0022                          AddEncounter(1F, 02)
0034                          AddEncounter(20, 03)
0046                          AddEncounter(20, 04)
0058                          AddTreasure(03E8, 00, 00, CA, B2, B1)
0079                          RETURN

MGOVENCB_26:
0000                          BEGIN
0003                          AddEncounter(1F, 01)
0015                          AddEncounter(1F, 02)
0027                          AddEncounter(1F, 03)
0039                          AddEncounter(19, 04)
004B                          AddEncounter(05, 05)
005D                          RETURN

SDRMGOVA_28:
0000                          BEGIN
0003                          ax = GetGuild()
000A 3D 05 00                 cmp ax, 0x5
000D 74 03                    jz 0x12
000F E9 7F 00                 jmp 0x91
0012                          ax = UsedSkill(0D, 0C) // returns 0 if did not use, compares to 2nd op if did use
0021 73 25                    jae 0x48
0023                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
002F 0B C0                    or ax, ax
0031 75 15                    jnz 0x48
0033                          ax = UsedItem(BE, BE)
0046 74 49                    jz 0x91
0048                          ShowMessage(0E0E) = You locate a hidden door in the wall.
0055                          Push(01)
0059                          ax = SetExitability(ax) // ax is usually 0 following equality check
0060 50                       push ax
0061                          ax = GetNextTile()
0068 50                       push ax
0069                          Move(stk[0], stk[1], stk[2])
0073                          ax = SetExitability(ax) // ax is usually 0 following equality check
007A 50                       push ax
007B                          ax = GetNextTile()
0082 50                       push ax
0083                          Push(01)
0087                          SetUnblocked()
0091                          RETURN

VORAENCA_29:
0000                          BEGIN
0003                          AddEncounter(22, 01)
0015                          AddEncounter(22, 02)
0027                          AddEncounter(10, 03)
0039                          AddEncounter(10, 04)
004B                          RETURN

VORAENCB_2A:
0000                          BEGIN
0003                          AddEncounter(22, 01)
0015                          AddEncounter(22, 02)
0027                          AddEncounter(15, 03)
0039                          AddEncounter(12, 04)
004B                          RETURN

VORAENCV_30:
0000                          BEGIN
0003                          ShowMessage(0E34) = A powerful Dwarf Thief stands before you. 'I am Voranti, Lord of Dwarf Thieves!  Fight me if you must, but you shall not find my secret treasure!  Do not fear, for I will provide decent burial when I am finished.'
0010                          ax = GetRace()
0017 3D 02 00                 cmp ax, 0x2
001A 75 0D                    jnz 0x29
001C                          ShowMessage(0F0A) = Voranti's dark eyes glow bright with hatred. 'As for you, miserable Elf, my pet gargoyles will pick your bones clean.'
0029                          ax = GetRace()
0030 3D 04 00                 cmp ax, 0x4
0033 75 0D                    jnz 0x42
0035                          ShowMessage(0F81) = Voranti smiles sadly. 'It saddens me that I must kill a fellow dwarf, but you have brought death upon yourself.'
0042                          AddEncounter(1C, 01)
0054                          AddEncounter(21, 05)
0066                          ax = HasItem(ED)
0074 74 21                    jz 0x97
0076                          AddTreasure(1388, 00, 00, 00, 00, CC)
0095 EB 1F                    jmp 0xb6
0097                          AddTreasure(2710, 00, 00, 00, 00, ED)
00B6                          RETURN

SDRVORDW_31:
0000                          BEGIN
0003                          ax = UsedSkill(0D, 0B) // returns 0 if did not use, compares to 2nd op if did use
0012 73 25                    jae 0x39
0014                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
0020 0B C0                    or ax, ax
0022 75 15                    jnz 0x39
0024                          ax = UsedItem(BE, BE)
0037 74 49                    jz 0x82
0039                          ShowMessage(0FF2) = You find a secret door in the wall.
0046                          ax = SetExitability(ax) // ax is usually 0 following equality check
004D 50                       push ax
004E                          ax = GetNextTile()
0055 50                       push ax
0056                          Push(01)
005A                          SetUnblocked()
0064                          Push(01)
0068                          ax = SetExitability(ax) // ax is usually 0 following equality check
006F 50                       push ax
0070                          ax = GetNextTile()
0077 50                       push ax
0078                          Move(stk[0], stk[1], stk[2])
0082                          RETURN

MOONENCA_32:
0000                          BEGIN
0003                          AddEncounter(0A, 01)
0015                          AddEncounter(0A, 02)
0027                          AddEncounter(24, 03)
0039                          AddEncounter(24, 04)
004B                          ax = HasItem(BE)
0059 74 22                    jz 0x7d
005B                          AddTreasure(07D0, 00, 00, 00, D0, B7)
007B EB 21                    jmp 0x9e
007D                          AddTreasure(1388, 00, 00, C6, D1, BE)
009E                          RETURN

MOONENCB_33:
0000                          BEGIN
0003                          AddEncounter(26, 01)
0015                          AddEncounter(26, 02)
0027                          AddEncounter(25, 03)
0039                          AddEncounter(26, 05)
004B                          AddEncounter(26, 06)
005D                          AddTreasure(1B58, 00, 00, 00, 59, 13)
007D                          RETURN

MOONENCC_34:
0000                          BEGIN
0003                          AddEncounter(0E, 01)
0015                          AddEncounter(0E, 02)
0027                          AddEncounter(1C, 03)
0039                          AddEncounter(1C, 04)
004B                          AddEncounter(1B, 05)
005D                          AddEncounter(1B, 06)
006F                          AddTreasure(2710, 00, 00, 00, 83, 10)
008F                          RETURN

MOONENCD_35:
0000                          BEGIN
0003                          AddEncounter(24, 01)
0015                          AddEncounter(24, 02)
0027                          AddEncounter(24, 03)
0039                          AddEncounter(24, 04)
004B                          RETURN

MOONENCE_36:
0000                          BEGIN
0003                          ShowMessage(1016) = A nest of young dragons!
0010                          AddEncounter(0E, 01)
0022                          AddEncounter(0E, 02)
0034                          AddEncounter(0F, 03)
0046                          AddEncounter(1C, 04)
0058                          RETURN

MOONENCF_37:
0000                          BEGIN
0003                          AddEncounter(24, 01)
0015                          AddEncounter(24, 02)
0027                          AddEncounter(24, 05)
0039                          RETURN

MOONENCG_38:
0000                          BEGIN
0003                          ShowMessage(102F) = A yellowed piece of paper  --
0010                          ShowMessage(104D) = 'Help! My brother Orilon has been bitten by bears and is transformed.'  - signed Margery
001D                          AddEncounter(28, 01)
002F                          AddEncounter(28, 02)
0041                          AddEncounter(28, 03)
0053                          AddEncounter(24, 05)
0065                          AddEncounter(24, 06)
0077                          ax = HasItem(EA)
0085 74 21                    jz 0xa8
0087                          AddTreasure(2328, 00, 00, 00, 00, BB)
00A6 EB 20                    jmp 0xc8
00A8                          AddTreasure(1388, 00, 00, 00, EA, 85)
00C8                          RETURN

TXTMOONB_3A:
0000                          BEGIN
0003                          ShowMessage(10A6) = A note -- 'Only past the Darkside will you find En-Li-Kil himself.'
0010                          RETURN

MOONENCJ_3B:
0000                          BEGIN
0003                          AddEncounter(12, 01)
0015                          AddEncounter(12, 02)
0027                          AddEncounter(1E, 03)
0039                          AddEncounter(1E, 04)
004B                          RETURN

MOONENCK_3C:
0000                          BEGIN
0003                          AddEncounter(26, 01)
0015                          AddEncounter(26, 02)
0027                          AddEncounter(26, 03)
0039                          AddEncounter(25, 05)
004B                          AddEncounter(25, 06)
005D                          RETURN

BDRMOONB_3E:
0000                          BEGIN
0003                          ShowMessage(10EA) = This door requires immense strength to open.
0010                          CheckStrength(15)
001F 72 49                    jb 0x6a
0021                          ShowMessage(1117) = You push against the door and barely manage to open it.
002E                          ax = SetExitability(ax) // ax is usually 0 following equality check
0035 50                       push ax
0036                          ax = GetNextTile()
003D 50                       push ax
003E                          Push(01)
0042                          SetUnblocked()
004C                          Push(01)
0050                          ax = SetExitability(ax) // ax is usually 0 following equality check
0057 50                       push ax
0058                          ax = GetNextTile()
005F 50                       push ax
0060                          Move(stk[0], stk[1], stk[2])
006A                          RETURN

SDRMOONC_3F:
0000                          BEGIN
0003                          ax = UsedItem(F2, F2)
0016 74 49                    jz 0x61
0018                          ShowMessage(114F) = Your Moon Prism reveals a secret door!
0025                          ax = SetExitability(ax) // ax is usually 0 following equality check
002C 50                       push ax
002D                          ax = GetNextTile()
0034 50                       push ax
0035                          Push(01)
0039                          SetUnblocked()
0043                          Push(01)
0047                          ax = SetExitability(ax) // ax is usually 0 following equality check
004E 50                       push ax
004F                          ax = GetNextTile()
0056 50                       push ax
0057                          Move(stk[0], stk[1], stk[2])
0061                          RETURN

SDRMOOND_40:
0000                          BEGIN
0003                          ax = UsedSkill(0D, 0B) // returns 0 if did not use, compares to 2nd op if did use
0012 73 3A                    jae 0x4e
0014                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
0020 0B C0                    or ax, ax
0022 75 2A                    jnz 0x4e
0024                          ax = UsedItem(A2, A2)
0037 75 15                    jnz 0x4e
0039                          ax = UsedItem(BE, BE)
004C 74 49                    jz 0x97
004E                          ShowMessage(1176) = You find a door hidden in the wall.
005B                          ax = SetExitability(ax) // ax is usually 0 following equality check
0062 50                       push ax
0063                          ax = GetNextTile()
006A 50                       push ax
006B                          Push(01)
006F                          SetUnblocked()
0079                          Push(01)
007D                          ax = SetExitability(ax) // ax is usually 0 following equality check
0084 50                       push ax
0085                          ax = GetNextTile()
008C 50                       push ax
008D                          Move(stk[0], stk[1], stk[2])
0097                          RETURN

SDRMOONE_41:
0000                          BEGIN
0003                          ShowMessage(119A) = The signature of the spectrum appears on the wall.
0010                          ax = UsedItem(BD, BD)
0023 75 15                    jnz 0x3a
0025                          ax = UsedItem(BE, BE)
0038 74 49                    jz 0x83
003A                          ShowMessage(11CD) = In the wall is a secret door.
0047                          ax = SetExitability(ax) // ax is usually 0 following equality check
004E 50                       push ax
004F                          ax = GetNextTile()
0056 50                       push ax
0057                          Push(01)
005B                          SetUnblocked()
0065                          Push(01)
0069                          ax = SetExitability(ax) // ax is usually 0 following equality check
0070 50                       push ax
0071                          ax = GetNextTile()
0078 50                       push ax
0079                          Move(stk[0], stk[1], stk[2])
0083                          RETURN

MOONENCM_42:
0000                          BEGIN
0003                          AddEncounter(26, 01)
0015                          AddEncounter(26, 02)
0027                          AddEncounter(25, 03)
0039                          AddEncounter(25, 04)
004B                          RETURN

SDRMOONF_43:
0000                          BEGIN
0003                          ax = GetGuild()
000A 3D 02 00                 cmp ax, 0x2
000D 74 03                    jz 0x12
000F E9 7F 00                 jmp 0x91
0012                          ax = UsedSkill(0D, 0A) // returns 0 if did not use, compares to 2nd op if did use
0021 73 25                    jae 0x48
0023                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
002F 0B C0                    or ax, ax
0031 75 15                    jnz 0x48
0033                          ax = UsedItem(BE, BE)
0046 74 49                    jz 0x91
0048                          ShowMessage(11EB) = Your Ranger skills help you locate a door hidden in the wall.
0055                          ax = SetExitability(ax) // ax is usually 0 following equality check
005C 50                       push ax
005D                          ax = GetNextTile()
0064 50                       push ax
0065                          Push(01)
0069                          SetUnblocked()
0073                          Push(01)
0077                          ax = SetExitability(ax) // ax is usually 0 following equality check
007E 50                       push ax
007F                          ax = GetNextTile()
0086 50                       push ax
0087                          Move(stk[0], stk[1], stk[2])
0091                          RETURN

SDRMOONJ_44:
0000                          BEGIN
0003                          ax = GetGuild()
000A 3D 04 00                 cmp ax, 0x4
000D 74 03                    jz 0x12
000F E9 7F 00                 jmp 0x91
0012                          ax = UsedSkill(0D, 0A) // returns 0 if did not use, compares to 2nd op if did use
0021 73 25                    jae 0x48
0023                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
002F 0B C0                    or ax, ax
0031 75 15                    jnz 0x48
0033                          ax = UsedItem(BE, BE)
0046 74 49                    jz 0x91
0048                          ShowMessage(1229) = Your holy calling allows you find a door hidden in the wall.
0055                          ax = SetExitability(ax) // ax is usually 0 following equality check
005C 50                       push ax
005D                          ax = GetNextTile()
0064 50                       push ax
0065                          Push(01)
0069                          SetUnblocked()
0073                          Push(01)
0077                          ax = SetExitability(ax) // ax is usually 0 following equality check
007E 50                       push ax
007F                          ax = GetNextTile()
0086 50                       push ax
0087                          Move(stk[0], stk[1], stk[2])
0091                          RETURN

BDRMOONK_45:
0000                          BEGIN
0003                          CheckStrength(14)
0012 72 4B                    jb 0x5f
0014                          ShowMessage(1266) = You barely manage to force open the door.
0021                          ax = SetExitability(ax) // ax is usually 0 following equality check
0028 50                       push ax
0029                          ax = GetNextTile()
0030 50                       push ax
0031                          Push(01)
0035                          SetUnblocked()
003F                          Push(01)
0043                          ax = SetExitability(ax) // ax is usually 0 following equality check
004A 50                       push ax
004B                          ax = GetNextTile()
0052 50                       push ax
0053                          Move(stk[0], stk[1], stk[2])
005D EB 48                    jmp 0xa7
005F                          ShowMessage(1290) = The door is stuck shut.
006C                          ax = SetExitability(ax) // ax is usually 0 following equality check
0073 50                       push ax
0074                          ax = GetNextTile()
007B 50                       push ax
007C                          Push(01)
0080                          SetUnblocked()
008A                          Push(00)
008D                          ax = SetExitability(ax) // ax is usually 0 following equality check
0094 50                       push ax
0095                          ax = GetNextTile()
009C 50                       push ax
009D                          Move(stk[0], stk[1], stk[2])
00A7                          RETURN

SDRMOONM_46:
0000                          BEGIN
0003                          ax = UsedSkill(0D, 08) // returns 0 if did not use, compares to 2nd op if did use
0012 73 25                    jae 0x39
0014                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
0020 0B C0                    or ax, ax
0022 75 15                    jnz 0x39
0024                          ax = UsedItem(BE, BE)
0037 74 49                    jz 0x82
0039                          ShowMessage(12A8) = Your training helps you find a secret door in the wall.
0046                          Push(01)
004A                          ax = SetExitability(ax) // ax is usually 0 following equality check
0051 50                       push ax
0052                          ax = GetNextTile()
0059 50                       push ax
005A                          Move(stk[0], stk[1], stk[2])
0064                          ax = SetExitability(ax) // ax is usually 0 following equality check
006B 50                       push ax
006C                          ax = GetNextTile()
0073 50                       push ax
0074                          Push(01)
0078                          SetUnblocked()
0082                          RETURN

SDRMOONN_47:
0000                          BEGIN
0003                          ShowMessage(12E0) = You detect a door cleverly hidden in the wall.
0010                          ax = SetExitability(ax) // ax is usually 0 following equality check
0017 50                       push ax
0018                          ax = GetNextTile()
001F 50                       push ax
0020                          Push(01)
0024                          SetUnblocked()
002E                          Push(01)
0032                          ax = SetExitability(ax) // ax is usually 0 following equality check
0039 50                       push ax
003A                          ax = GetNextTile()
0041 50                       push ax
0042                          Move(stk[0], stk[1], stk[2])
004C                          RETURN

MOONTRSA_48:
0000                          BEGIN
0003                          ax = HasItem(F2)
0011 74 0F                    jz 0x22
0013                          ShowMessage(130F) = Piles of dirt cover the floor.
0020 EB 2E                    jmp 0x50
0022                          GiveItem(F2)
002E                          SetState(02, 46, 01)
0043                          ShowMessage(132E) = You find a Moon Prism on the floor.
0050                          RETURN

MOONTRSB_49:
0000                          BEGIN
0003                          ax = CheckState(02, 47, 01)
0017 75 0F                    jnz 0x28
0019                          ShowMessage(1352) = The floor is bare.
0026 EB 2E                    jmp 0x56
0028                          GiveItem(37)
0034                          SetState(02, 47, 01)
0049                          ShowMessage(1365) = You find the Ranger Spear on the floor.
0056                          RETURN

MOONTRSC_4A:
0000                          BEGIN
0003                          ax = CheckState(02, 48, 01)
0017 75 0F                    jnz 0x28
0019                          ShowMessage(138D) = There is nothing of interest in this area.
0026 EB 2E                    jmp 0x56
0028                          GiveItem(3D)
0034                          SetState(02, 48, 01)
0049                          ShowMessage(13B8) = You find a Holy Halberd lying on the floor.
0056                          RETURN

TORBFOUN_4B:
0000                          BEGIN
0003                          ShowPortrait(0042)
0010                          ShowMessage(13E4) = Pictorials of War are painted on the walls surrounding Torbriar's Fountain.
001D                          ax = CheckState(02, 63, any)
0030 74 03                    jz 0x35
0032 E9 47 01                 jmp 0x17c
0035                          SetState(02, 63, 01)
004A                          ax = SkillLevel(08)
0056 0B C0                    or ax, ax
0058 75 21                    jnz 0x7b
005A                          SetSkillLevel(08, 02)
006B                          ShowMessage(1430) = You gain the skill of Archery!
0078 E9 FF 00                 jmp 0x17a
007B                          ax = SkillLevel(01)
0087 0B C0                    or ax, ax
0089 75 21                    jnz 0xac
008B                          SetSkillLevel(01, 02)
009C                          ShowMessage(144F) = You gain the skill of Clubs and Axes!
00A9 E9 CE 00                 jmp 0x17a
00AC                          ax = SkillLevel(05)
00B8 0B C0                    or ax, ax
00BA 75 21                    jnz 0xdd
00BC                          SetSkillLevel(05, 02)
00CD                          ShowMessage(1475) = You gain the skill of Swordsmanship!
00DA E9 9D 00                 jmp 0x17a
00DD                          ax = SkillLevel(0C)
00E9 0B C0                    or ax, ax
00EB 75 20                    jnz 0x10d
00ED                          SetSkillLevel(0C, 02)
00FE                          ShowMessage(149A) = You gain the Bard skill!
010B EB 6D                    jmp 0x17a
010D                          ax = SkillLevel(10)
0119 0B C0                    or ax, ax
011B 75 20                    jnz 0x13d
011D                          SetSkillLevel(10, 02)
012E                          ShowMessage(14B3) = You gain the skill of Martial Arts!
013B EB 3D                    jmp 0x17a
013D                          ax = SkillLevel(16)
0149 0B C0                    or ax, ax
014B 75 20                    jnz 0x16d
014D                          SetSkillLevel(16, 02)
015E                          ShowMessage(14D7) = You gain the Channel skill!
016B EB 0D                    jmp 0x17a
016D                          ShowMessage(14F3) = The waters have no effect.
017A EB 0D                    jmp 0x189
017C                          ShowMessage(150E) = Dust fills the fountain basin.
0189                          RETURN

TORBENCB_4C:
0000                          BEGIN
0003                          AddEncounter(28, 01)
0015                          AddEncounter(28, 02)
0027                          AddEncounter(27, 04)
0039                          AddEncounter(15, 05)
004B                          AddEncounter(15, 06)
005D                          ax = GetGuild()
0064 0B C0                    or ax, ax
0066 75 1F                    jnz 0x87
0068                          AddTreasure(03E8, 00, 00, 00, 00, 18)
0087                          ax = GetGuild()
008E 3D 01 00                 cmp ax, 0x1
0091 75 1F                    jnz 0xb2
0093                          AddTreasure(03E8, 00, 00, 00, 00, 11)
00B2                          RETURN

TORBENCC_4D:
0000                          BEGIN
0003                          AddEncounter(28, 01)
0015                          AddEncounter(28, 02)
0027                          AddEncounter(15, 03)
0039                          AddEncounter(15, 04)
004B                          RETURN

TXTTORB_52:
0000                          BEGIN
0003                          ShowMessage(152D) = A bard's scroll sings a simple song of how someday bands of adventurers will form an invisible bridge across a deadly chasm.
0010                          RETURN

SDRTORBA_53:
0000                          BEGIN
0003                          ax = GetGuild()
000A 3D 01 00                 cmp ax, 0x1
000D 74 03                    jz 0x12
000F E9 7F 00                 jmp 0x91
0012                          ax = UsedSkill(0D, 08) // returns 0 if did not use, compares to 2nd op if did use
0021 73 25                    jae 0x48
0023                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
002F 0B C0                    or ax, ax
0031 75 15                    jnz 0x48
0033                          ax = UsedItem(BE, BE)
0046 74 49                    jz 0x91
0048                          ShowMessage(15AA) = A secret door visible only to knights appears in the wall .
0055                          Push(01)
0059                          ax = SetExitability(ax) // ax is usually 0 following equality check
0060 50                       push ax
0061                          ax = GetNextTile()
0068 50                       push ax
0069                          Move(stk[0], stk[1], stk[2])
0073                          ax = SetExitability(ax) // ax is usually 0 following equality check
007A 50                       push ax
007B                          ax = GetNextTile()
0082 50                       push ax
0083                          Push(01)
0087                          SetUnblocked()
0091                          RETURN

SDRTORBB_54:
0000                          BEGIN
0003                          ax = GetGuild()
000A 0B C0                    or ax, ax
000C 74 03                    jz 0x11
000E E9 7F 00                 jmp 0x90
0011                          ax = UsedSkill(0D, 08) // returns 0 if did not use, compares to 2nd op if did use
0020 73 25                    jae 0x47
0022                          ax = UsedSpell(17) // returns 0 if did not use on map, level if used
002E 0B C0                    or ax, ax
0030 75 15                    jnz 0x47
0032                          ax = UsedItem(BE, BE)
0045 74 49                    jz 0x90
0047                          ShowMessage(15E6) = In the wall you find a hidden door.
0054                          Push(01)
0058                          ax = SetExitability(ax) // ax is usually 0 following equality check
005F 50                       push ax
0060                          ax = GetNextTile()
0067 50                       push ax
0068                          Move(stk[0], stk[1], stk[2])
0072                          ax = SetExitability(ax) // ax is usually 0 following equality check
0079 50                       push ax
007A                          ax = GetNextTile()
0081 50                       push ax
0082                          Push(01)
0086                          SetUnblocked()
0090                          RETURN

TORBWIND_55:
0000                          BEGIN
0003                          ShowMessage(160A) = The wind is nasty here!  You take 100 damage.
0010                          DoDamage(0064)
001D                          ax = GetCurrentHits()
0024 0B C0                    or ax, ax
0026 77 0D                    ja 0x35
0028                          ShowMessage(1638) = You have died.
0035                          RETURN

MOONWIND_56:
0000                          BEGIN
0003                          ShowMessage(1647) = The Moon Hollow winds steals 300 Mana!
0010                          AddMana(FED4)
001D                          RETURN

VORAWIND_57:
0000                          BEGIN
0003                          ShowMessage(166E) = A violent whirlwind pounds you, taking half your health!
0010                          ax = GetCurrentHits()
0017 BB 02 00                 mov bx, 0x2
001A 99                       cwd
001B F7 FB                    idiv bx
001D                          DoDamage(ax)
0027                          ax = GetCurrentHits()
002E 0B C0                    or ax, ax
0030 77 0D                    ja 0x3f
0032                          ShowMessage(16A7) = You have died.
003F                          RETURN

03FC: Other pits in the Labyrinth provide access to hidden areas...
043A: This pit, however, sends you to the gates of Death.
046E: A magical platform forms a bridge across the abyss.
04A2: You fall into the abyss and die.
04C3: With help, you might have been able to cross here.
04F6: Something strange happens!
0511: When you step onto the stone, a magical platform appears nearby.
0552: You do not suffer the death found in other pits in the Labyrinth.  Instead you are rewarded with a trip to CASTLEGATE BAZAAR.
05D0: The Dark Dwarf Voranti tricked the Lords of Harmony many moons ago.
0614: He stole the secrets of the Winds from the Lords and has used them for his own purposes every since.
0679: The Lords' Harmonic Shrine has now become the raging passageway known as HEAVEN'S FURY.
06D1: The survivors of the cataclysm named this place EXODUS.
0709: It is here they escaped the horrors of Arnakkian's Castle and began their new subterranean life.
076A: No adventurer dares camp in WIND HOLLOW.  At night the howling wind makes one deaf to the dangers.
07CD: TEMPEST dares all to explore the magic rooms along her narrow corridor.
0815: The barren rocks are swept clean by the violent winds that race through WIND HOLLOW.
086A: 'Beware!  Those who enter the Labyrinth BACK ALLEY must guard against all!'
08B6: Enter HEAVEN'S FURY if you must.  Here is where Voranti cursed the winds.
0900: The gates of LABYRINTH ATTIC are a welcome sight.
0932: The door leads to WYN SANCTUARY.
0953: The gateway opens, revealing the secret chambers of the Labyrinth Thieves.
099E: You stumble into the lava pools.  You die.
09C9: This door locks out all except those who have the alley key.
0A06: Your key unlocks the door.
0A21: You return to LABYRINTH ATTIC through a one-way tunnel.
0A59: The door to WIND HOLLOW bursts open with terrible force, throwing all adventurers against the rocks...
0AC0: ...and inflicting heavy damage.
0AE0: You have died.
0AEF: Runes can be the most powerful of weapons in the hands of an adept Wizard.
0B3A: Here, the runes also protect the great mage's magical possessions against the unwanted.
0B92: The Zephyr Wind whispers, 'I have taken the Harvest Horn, and I give you something to help defeat the Wind Elemental'.
0C09: The Zephyr Wind whistles 'No harm was intended, but I am sworn to serve the Wind Elemental.  Return the Harvest Horn to my Wyverns to release my bonds.'
0CA2: A magical platform nearby seems to disappear.
0CD0: The Zephyr Wind gusts in fury, causing damage!
0CFF: You have died.
0D0E: Wafts of reddish smoke eminate from the rooms ahead.
0D43: An acrid odor fills these chambers.
0D67: The fiery eyes of Ancient Dragons blaze through the thick clouds that fill the chamber.
0DBF: You detect a secret door in the wall.
0DE5: A stash of wizard items is being raided.
0E0E: You locate a hidden door in the wall.
0E34: A powerful Dwarf Thief stands before you. 'I am Voranti, Lord of Dwarf Thieves!  Fight me if you must, but you shall not find my secret treasure!  Do not fear, for I will provide decent burial when I am finished.'
0F0A: Voranti's dark eyes glow bright with hatred. 'As for you, miserable Elf, my pet gargoyles will pick your bones clean.'
0F81: Voranti smiles sadly. 'It saddens me that I must kill a fellow dwarf, but you have brought death upon yourself.'
0FF2: You find a secret door in the wall.
1016: A nest of young dragons!
102F: A yellowed piece of paper  --
104D: 'Help! My brother Orilon has been bitten by bears and is transformed.'  - signed Margery
10A6: A note -- 'Only past the Darkside will you find En-Li-Kil himself.'
10EA: This door requires immense strength to open.
1117: You push against the door and barely manage to open it.
114F: Your Moon Prism reveals a secret door!
1176: You find a door hidden in the wall.
119A: The signature of the spectrum appears on the wall.
11CD: In the wall is a secret door.
11EB: Your Ranger skills help you locate a door hidden in the wall.
1229: Your holy calling allows you find a door hidden in the wall.
1266: You barely manage to force open the door.
1290: The door is stuck shut.
12A8: Your training helps you find a secret door in the wall.
12E0: You detect a door cleverly hidden in the wall.
130F: Piles of dirt cover the floor.
132E: You find a Moon Prism on the floor.
1352: The floor is bare.
1365: You find the Ranger Spear on the floor.
138D: There is nothing of interest in this area.
13B8: You find a Holy Halberd lying on the floor.
13E4: Pictorials of War are painted on the walls surrounding Torbriar's Fountain.
1430: You gain the skill of Archery!
144F: You gain the skill of Clubs and Axes!
1475: You gain the skill of Swordsmanship!
149A: You gain the Bard skill!
14B3: You gain the skill of Martial Arts!
14D7: You gain the Channel skill!
14F3: The waters have no effect.
150E: Dust fills the fountain basin.
152D: A bard's scroll sings a simple song of how someday bands of adventurers will form an invisible bridge across a deadly chasm.
15AA: A secret door visible only to knights appears in the wall .
15E6: In the wall you find a hidden door.
160A: The wind is nasty here!  You take 100 damage.
1638: You have died.
1647: The Moon Hollow winds steals 300 Mana!
166E: A violent whirlwind pounds you, taking half your health!
16A7: You have died.
